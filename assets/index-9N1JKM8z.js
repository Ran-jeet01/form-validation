(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const i=(e="This field is required")=>({validate:r=>r.trim().length>0,errorMessage:e}),c=(e,r)=>({validate:t=>t.length>=e,errorMessage:r||`Must be at least ${e} characters`}),v=(e="Invalid email address")=>({validate:r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),errorMessage:e}),y={username:[i("Username is required"),c(3,"Username must be at least 3 characters")],email:[i("Email is required"),v("Please enter a valid email address")],password:[i("Password is required"),c(8,"Password must be at least 8 characters")],confirmPassword:[i("Please confirm your password")],name:[i("Name is required"),c(2,"Name must be at least 2 characters")],phone:[i("Phone number is required"),{validate:e=>/^\d{10}$/.test(e),errorMessage:"Phone number must be 10 digits"}],address:[i("Address is required"),c(5,"Address must be at least 5 characters")],age:[i("Age is required"),{validate:e=>!isNaN(Number(e))&&Number(e)>0&&Number(e)<120,errorMessage:"Please enter a valid age"}]};function f(e,r,t){const a=y[e];if(!a)return{isValid:!1,error:`Unknown validation type: ${e}`};if(e==="confirmPassword"&&t!==void 0)return r.trim().length===0?{isValid:!1,error:"Please confirm your password"}:r!==t?{isValid:!1,error:"Passwords do not match"}:{isValid:!0};for(const s of a)if(!s.validate(r,t))return{isValid:!1,error:s.errorMessage};return{isValid:!0}}function w(e){const r={};return Object.keys(e).forEach(t=>{const a=g(t),s=a==="confirmPassword"?e.password:void 0;r[t]=f(a,e[t],s)}),r}function b(e){return Object.values(e).every(r=>r.isValid)}function g(e){switch(e){case"username":return"username";case"email":return"email";case"password":return"password";case"confirmPassword":return"confirmPassword";case"phone":return"phone";case"address":return"address";case"age":return"age";default:return"name"}}const d=document.getElementById("registration-form"),u=document.querySelectorAll(".form-input"),l=document.getElementById("success-message");if(!d||!l)throw new Error("DOM elements missing");const h=()=>{const e={};return u.forEach(r=>{e[r.name]=r.value}),e},p=(e,r)=>{const t=document.getElementById(`${e.id}-error`);t&&(!r.isValid&&r.error?(e.classList.add("error"),e.classList.remove("success"),t.textContent=r.error,t.style.opacity="1"):(e.classList.remove("error"),e.classList.add("success"),t.textContent="",t.style.opacity="0"))},m=e=>{const r=h(),t=g(e.name);let a;t==="confirmPassword"&&(a=r.password);const s=f(t,e.value,a);p(e,s)};u.forEach(e=>{e.addEventListener("blur",()=>m(e)),e.addEventListener("input",()=>{e.classList.contains("error")&&m(e)})});d.addEventListener("submit",e=>{e.preventDefault();const r=h(),t=w(r),a=b(t);Object.entries(t).forEach(([s,o])=>{const n=d.querySelector(`#${s}`);n&&p(n,o)}),a?(l.classList.remove("hidden"),d.reset(),u.forEach(s=>s.classList.remove("success","error")),setTimeout(()=>l.classList.add("hidden"),5e3),console.log("Form Submitted Successfully:",r)):l.classList.add("hidden")});

(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const n=(e="This field is required")=>({validate:s=>s.trim().length>0,errorMessage:e}),u=(e,s)=>({validate:t=>t.length>=e,errorMessage:s||`Must be at least ${e} characters`}),w=(e="Invalid email address")=>({validate:s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),errorMessage:e}),p={username:[n("Username is required"),u(3,"Username must be at least 3 characters")],email:[n("Email is required"),w("Please enter a valid email address")],password:[n("Password is required"),u(8,"Password must be at least 8 characters")],confirmPassword:[n("Please confirm your password")],name:[n("Name is required"),u(2,"Name must be at least 2 characters")]};function c(e,s,t){const i=p[e];if(!i)return{isValid:!1,error:`Unknown validation type: ${e}`};if(e==="confirmPassword"&&t!==void 0)return s.trim().length===0?{isValid:!1,error:"Please confirm your password"}:s!==t?{isValid:!1,error:"Passwords do not match"}:{isValid:!0};for(const r of i)if(!r.validate(s,t))return{isValid:!1,error:r.errorMessage};return{isValid:!0}}function y(e){const s={};return e.username!==void 0&&(s.username=c("username",e.username)),e.email!==void 0&&(s.email=c("email",e.email)),e.password!==void 0&&(s.password=c("password",e.password)),e.confirmPassword!==void 0&&(s.confirmPassword=c("confirmPassword",e.confirmPassword,e.password)),s}function h(e){return Object.values(e).every(s=>s.isValid)}function L(e){switch(e){case"username":return"username";case"email":return"email";case"password":return"password";case"confirmPassword":return"confirmPassword";default:return"name"}}const d=document.getElementById("registration-form"),m=document.querySelectorAll(".form-input"),l=document.getElementById("success-message");if(!d||!l)throw new Error("DOM elements missing");const v=()=>{const e={};return m.forEach(s=>{e[s.name]=s.value}),e},g=(e,s)=>{const t=document.getElementById(`${e.id}-error`);t&&(!s.isValid&&s.error?(e.classList.add("error"),e.classList.remove("success"),t.textContent=s.error,t.style.opacity="1"):(e.classList.remove("error"),e.classList.add("success"),t.textContent="",t.style.opacity="0"))},f=e=>{const s=v(),t=L(e.name);let i;t==="confirmPassword"&&(i=s.password);const r=c(t,e.value,i);g(e,r)};m.forEach(e=>{e.addEventListener("blur",()=>{f(e)}),e.addEventListener("input",()=>{e.classList.contains("error")&&f(e)})});d.addEventListener("submit",e=>{e.preventDefault();const s=v(),t=y(s),i=h(t);Object.entries(t).forEach(([r,o])=>{const a=d.querySelector(`#${r}`);a&&g(a,o)}),i?(l.classList.remove("hidden"),d.reset(),m.forEach(r=>{r.classList.remove("success"),r.classList.remove("error");const o=document.getElementById(`${r.id}-error`);o&&(o.textContent="",o.style.opacity="0")}),setTimeout(()=>{l.classList.add("hidden")},5e3),console.log("Form Submitted Successfully:",s)):l.classList.add("hidden")});
